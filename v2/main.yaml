swagger: "2.0"

info:
  version: "2.0.0"
  title: OnPay API
  description: "Must present a valid Bearer token."

host: onpay.dev

schemes:
  - https

produces:
 - application/json

securityDefinitions:
  OAuth2:
    type: oauth2
    flow: accessCode
    authorizationUrl: https://app.onpay.com/app/oauth/authorize
    tokenUrl: https://app.onpay.com/app/oauth/authorize
    scopes:
      Owner: "1"
      Approver: "2"
      Controller: "3"
      Manager: "4"
      Accountant: "5"
      Employee: "6"

  Bearer:
    name: Authorization
    type: apiKey
    in: header

basePath: /v2

paths:

  /employees:
    get:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Get list of employees
      responses:
        200:
          description: Sucessful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/Employee'
        400:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
        401:
          description: 'Unauthorized'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
        402:
          description: 'Unauthorized'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /employees/{employee_id}:
    parameters:
      - name: employee_id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Get employee by employee_id
      responses:
        200:
          description: "Successful response"
          schema:
            $ref: '#/definitions/Employee'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
    patch:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Update an employee
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            $ref: '#/definitions/Employee'
          in: body
      responses:
        200:
          description: Successful resopnse
          schema:
            $ref: '#/definitions/PatchSuccessful'
        default:
          description: Bad Request
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /employees/{employee_id}/deductions:
    get:
      tags:
        - Employees
        - Deductions
      security:
        - OAuth2: [Owner,Approver,Controller,Manager,Employee]
        #- Bearer: []
      description: |
        Get deductions for an employee

      parameters:
        - name: employee_id
          in: path
          required: true
          type: integer
      responses:
        200:
          description: Successful response
          schema:
            type: object
            properties:
              associated:
                description: Group of deductions that employee is currently or has been associated with
                type: array
                items:
                  $ref: '#/definitions/EmployeeDeductionItem'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /employees/{employee_id}/deductions/{deduction_id}:
    parameters:
      - name: employee_id
        type: integer
        in: path
        required: true
      - name: deduction_id
        type: integer
        in: path
        required: true

    patch:
      tags:
        - Employees
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Update an employee deduction batch by employee ID and deduction ID
      responses:
        200:
          description: Successful Response
          schema:
            $ref: '#/definitions/PatchSuccessful'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

    post:
      tags:
        - Employees
        - Deductions
      security:
       - OAuth2: [Owner, Approver]

      description: |
        Insert deduction batch for an employee by employee ID and deduction ID

      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/InsertSuccessful'

  /employees/{employee_id}/bank-accounts:
    parameters:
      - name: employee_id
        type: integer
        in: path
        required: true

    get:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
      description: |
        list employee bank accounts

      responses:
        200:
          description: Successful Response
          schema:
            $ref: '#/definitions/EmployeeAchAccountItem'

  /employees/{employee_id}/wages:
    parameters:
      - name: employee_id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Employees
      security:
       - OAuth2: [Owner, Approver]
      description: List employee pay items
      responses:
        200:
          description: Successful Response
          schema:
            type: object
            properties:
              pay_items:
                type: array
                items:
                  $ref: '#/definitions/PayItem'
              version:
                type: string

    patch:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
      description: Update employee pay items
      parameters:
        - name: parameters
          schema:
            type: object
            properties:
              pay_items:
                type: array
                items:
                  $ref: '#/definitions/PayItem'
              version:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            type: object
            properties:
              pay_items:
                type: array
                items:
                  $ref: '#/definitions/PayItem'
              version:
                type: string

  /employees/{employee_id}/leave:
    parameters:
      - name: employee_id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
      description: List employee leave items
      responses:
        200:
          description: Successful Response
          schema:
            type: object
            properties:
              pay_items:
                type: array
                items:
                  $ref: '#/definitions/LeaveItem'
              version:
                type: string

    patch:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
      description: Update employee leave items
      parameters:
        - name: parameters
          schema:
            type: object
            properties:
              pay_items:
                type: array
                items:
                  $ref: '#/definitions/LeaveItem'
              version:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            type: object
            properties:
              pay_items:
                type: array
                items:
                  $ref: '#/definitions/LeaveItem'
              version:
                type: string

  /employees/{employee_id}/tax-fields:
    parameters:
      - name: employee_id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
      description: List employee tax fields
      responses:
        200:
          description: Successful Response
          schema:
            type: object
            properties:
              federal_status:
                type: integer
              federal_allowances:
                type: integer
              fica_exempt:
                type: boolean
              fit_exempt:
                type: boolean
              fit_additional_amount:
                type: integer
              work_location_display_fields:
                $ref: '#/definitions/StateDisplayFieldsObject'
              state_misc_1_value:
                type: string
              state_misc_3_value:
                type: string
              state_misc_2_value:
                type: string
              sit_additional_amount:
                type: integer
              sdi_exempt:
                type: boolean
              state_misc_4_value:
                type: string
              sit_exempt:
                type: boolean
              state_resident:
                type: boolean

    patch:
      tags:
        - Employees
      security:
        - OAuth2: [Owner, Approver]
      description: Update employee leave items
      parameters:
        - name: parameters
          schema:
            type: object
            properties:
              federal_status:
                type: integer
              federal_allowances:
                type: integer
              fica_exempt:
                type: boolean
              fit_exempt:
                type: boolean
              fit_additional_amount:
                type: integer
              work_location_display_fields:
                $ref: '#/definitions/StateDisplayFieldsObject'
              state_misc_1_value:
                type: string
              state_misc_3_value:
                type: string
              state_misc_2_value:
                type: string
              sit_additional_amount:
                type: integer
              sdi_exempt:
                type: boolean
              state_misc_4_value:
                type: string
              sit_exempt:
                type: boolean
              state_resident:
                type: boolean
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            type: object
            properties:
              federal_status:
                type: integer
              federal_allowances:
                type: integer
              fica_exempt:
                type: boolean
              fit_exempt:
                type: boolean
              fit_additional_amount:
                type: integer
              work_location_display_fields:
                $ref: '#/definitions/StateDisplayFieldsObject'
              state_misc_1_value:
                type: string
              state_misc_3_value:
                type: string
              state_misc_2_value:
                type: string
              sit_additional_amount:
                type: integer
              sdi_exempt:
                type: boolean
              state_misc_4_value:
                type: string
              sit_exempt:
                type: boolean
              state_resident:
                type: boolean

  /employees/recent-notes-and-comments:
    get:
      tags:
        - Employees
      security:
        - OAuth2: [Owner,Approver,Controller,Manager]
       # - Bearer: []
      description: |
        Get recent notes and or comments from an employees account.

      responses:
        200:
          description: Successful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/EmployeeNote'
        400:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
        401:
          description: 'Unauthorized'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
        402:
          description: 'Unauthorized'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company:
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Get company information

      responses:
        200:
          description: Successful response
          schema:
            $ref: '#/definitions/Company'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company/deductions:
    get:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Get all deductions for company

      responses:
        200:
          description: successful resopnse
          schema:
            type: array
            items:
              $ref: '#/definitions/EmployeeDeductionItem'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

    post:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        create a new deduction
      parameters:
        - name: properties
          description: ""
          schema:
            $ref: '#/definitions/DeductionListItem'
          in: body

      responses:
        200:
          description: successful response
          schema:
            $ref: '#/definitions/InsertSuccessful'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company/pay-schedules:
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        list pay schedules for company

      responses:
        200:
          description: successful response
          schema:
            type: array
            items:
              $ref: '#/definitions/PaySchedule'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company/deductions/{deduction_id}:
    parameters:
      - name: deduction_id
        required: true
        type: integer
        in: path
    patch:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Patch deduction
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            $ref: '#/definitions/DeductionListItem'
          in: body
      responses:
        200:
          description: successful response
          schema:
            $ref: '#/definitions/PatchSuccessful'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
    delete:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: |
        Delete deduction by Id.

      responses:
        200:
          description: successful response
          schema:
            $ref: '#/definitions/DeleteSuccessful'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company/deduction-groupings:
    get:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/DeductionGroupingItem'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
    post:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            $ref: '#/definitions/DeductionGroupingItem'
          in: body
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/InsertSuccessful'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company/deduction-groupings/{id}:
    parameters:
      - name: id
        required: true
        type: integer
        in: path
    patch:
      tags:
        - Company
        - Deductions
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            $ref: '#/definitions/DeductionGroupingItem'
          in: body
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/PatchSuccessful'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'

  /company/worksites:
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver, Controller, Manager]
      responses:
        200:
          description: Sucessful Resopnse
          schema:
            type: array
            items: 
              $ref: '#/definitions/WorksiteItem'

    post:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
      parameters:
        - name: parameters
          in: body
          schema:
            type: object
            properties:
              address:
                type: string
              address_2:
                type: string
              city:
                type: string
              state:
                type: string
              zip:
                type: string
      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/InsertSuccessful'

  /company/worksites/{id}:
    parameters:
      - name: id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver, Controller, Manager]
      responses:
        200:
          description: Sucessful Resopnse
          schema:
            $ref: '#/definitions/WorksiteItem'

  /company/locations:
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/LocationItem'
        default:
          description: 'Bad Request'
          schema:
            $ref: '#/definitions/ErrorBadRequest'
    post:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            type: object
            properties:
              name:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/InsertSuccessful'


  /company/locations/{id}:
    parameters:
      - name: id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/LocationItem'
    patch:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            type: object
            properties:
              name:
                type: string
              version:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/PatchSuccessful'

  /company/departments:
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: Get all departments for company
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/DepartmentItem'
    post:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            type: object
            properties:
              name:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/InsertSuccessful'

  /company/departments/{id}:
    parameters:
      - name: id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: Get department by ID
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/DepartmentItem'
    patch:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            type: object
            properties:
              name:
                type: string
              version:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/PatchSuccessful'

  /company/positions:
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: List all positions for company
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/PositionItem'
    post:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
      description: Add a PositionItem to company
      parameters:
        - name: properties
          description: "JSON"
          schema:
            type: object
            properties:
              name:
                type: string
          in: body
      responses:
        200:
          description: Sucessful Response
          schema:
            $ref: '#/definitions/InsertSuccessful'

  /company/positions/{id}:
    parameters:
      - name: id
        type: integer
        required: true
        in: path
    get:
      tags:
        - Company
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      description: Get Position by ID
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/PositionItem'
    patch:
      tags:
        - Company
      parameters:
        - name: properties
          description: "JSON Merge Patch [RFC 7396]"
          schema:
            $ref: '#/definitions/PositionItem'
          in: body
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/PatchSuccessful'

  /user:
    get:
      tags:
        - User
      security:
        - OAuth2: [Owner, Approver, Controller, Manager, Employee]
        #- Bearer: []
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            $ref: '#/definitions/UserItem'

  /reports/listing:
    get:
      tags:
        - Reports
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      parameters:
        - name: company_id
          in: query
          required: true
          type: integer
        - name: from
          in: query
          required: true
          type: string
        - name: to
          in: query
          required: true
          type: string
        - name: limit
          in: query
          required: true
          type: integer
        - name: start
          in: query
          required: true
          type: integer
        - name: employee_ids
          in: query
          required: false
          type: string
          format: csv
        - name: position_id
          in: query
          required: false
          type: integer
        - name: department_id
          in: query
          required: false
          type: integer
        - name: location_id
          in: query
          required: false
          type: integer

      responses:
        200:
          description: |
            Payroll Listing Resopnse
          schema:
            type: array
            items:
              $ref: '#/definitions/PayrollCheck'


  /reports/pagination/listing:
    get:
      tags:
        - Reports
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      parameters:
        - name: company_id
          in: query
          required: true
          type: integer
        - name: from
          in: query
          required: true
          type: string
        - name: to
          in: query
          required: true
          type: string
        - name: employee_ids
          in: query
          required: false
          type: string
          format: csv
        - name: position_id
          in: query
          required: false
          type: integer
        - name: department_id
          in: query
          required: false
          type: integer
        - name: location_id
          in: query
          required: false
          type: integer

      responses:
        200:
          description: |
            Sucessful Response
          schema:
            type: object
            properties:
              count:
                type: integer

  /approved-pay-runs:
    get:
      tags:
        - Pay-runs
      security:
        - OAuth2: [Owner, Approver]
        #- Bearer: []
      parameters:
        - name: from
          in: query
          required: true
          type: string
        - name: to
          in: query
          required: true
          type: string
        - name: runid
          in: query
          required: false
          type: integer
      responses:
        200:
          description: |
            Sucessful Response
          schema:
            type: array
            items:
              $ref: '#/definitions/ApprovedPayRunsItem'

definitions:
  Company:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      dba:
        type: string
      address:
        type: string
      address_2:
        type: string
      city:
        type: string
      state:
        type: string
      zip:
        type: integer
      email:
        type: string
      contact_name:
        type: string
      contact_number:
        type: string
      company_number:
        type: string
      mail_address:
        type: string
      mail_address_2:
        type: string
      mail_city:
        type: string
      mail_zip:
        type: integer

  PaySchedule:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      frequency:
        type: integer
      check_date:
        type: string
      period_start:
        type: string
      period_end:
        type: string
      submission_deadline:
        type: string
      version:
        type: string

  EmployeeNote:
    type: object
    properties:
      id:
        type: integer
      employee_id:
        type: integer
      user_id:
        type: integer
      public:
        type: boolean
      note:
        type: string
      user_name:
        type: string
      user_image:
        type: string
      time:
        type: string
        format: date-time

  Employee:
    type: object
    properties:
      employee_id:
        type: integer
      home_phone_number:
        type: string
      cell_phone_number:
        type: string
      employee_number:
        type: string
      first_name:
        type: string
      middle_initial:
        type: string
      last_name:
        type: string
      address:
        type: string
      address_2:
        type: string
      city:
        type: string
      state:
        type: string
      zip:
        type: string
      mail_address:
        type: string
      mail_address_2:
        type: string
      mail_city:
        type: string
      mail_state:
        type: string
      mail_zip:
        type: string
      include_in_calculation:
        type: string
      email:
        type: string
      ssn:
        type: string
      gender:
        type: string
        enum:
          - M
          - F
        description: >
           M - Male >
           F - Female
      birthday:
        type: string
        format: ISO
      direct_deposit_active:
        type: string
      type:
        type: integer
      pay_frequency:
        type: integer
        readOnly: true
      wage:
        type: string
        readOnly: true
      rate:
        type: string
        readOnly: true
      pay_schedule_id:
        type: integer
      employment_status:
        type: integer
        enum:
          - 0
          - 1
      part_time:
        type: integer
        enum:
          - 0
          - 1
      seasonal:
        type: integer
      department_id:
        type: integer
      location_id:
        type: integer
      position_id:
        type: integer
      manager_id:
        type: integer
      workers_compensation_id:
        type: integer
      hire_date:
        type: string
        format: ISO
      termination_date:
        type: string
        format: ISO
      rehire_date:
        type: string
        format: ISO
      supplemental_calculation_method:
        type: integer
      date_added:
        type: string
        format: ISO
      commit_id:
        type: integer
      version:
        type: string
      compid:
        type: integer
      profile_image:
        type: string

  EmployeePost:
    type: object
    properties:
      employee:
        $ref: '#/definitions/Employee'
      wages_list:
        type: array
      deductions_list:
        type: array
        items:
          $ref: '#/definitions/DeductionListItem'

  PayrollCheck:
    type: object
    properties:
      employee_id:
        type: integer
      employee_type:
        type: integer
      employee_number:
        type: string
      first_name:
        type: string
      last_name:
        type: string
      address:
        type: string
      address_2:
        type: string
      city:
        type: string
      state:
        type: string
      zip:
        type: string
      ssn:
        type: string
      chkid:
        type: integer
      runid:
        type: integer
      check_date:
        type: string
        format: ISO
      check_number:
        type: string
      memo:
        type: string
      period_start:
        type: string
        format: ISO
      period_end:
        type: string
        format: ISO
      location_id:
        type: integer
      department_id:
        type: integer
      position_id:
        type: integer
      note:
        type: string
      note_visible_to_employee:
        type: boolean
      pay_frequency:
        type: integer
      year_start:
        type: string
        format: ISO
      qtr_start:
        type: string
        format: ISO
      month_start:
        type: string
        format: ISO
      net:
        type: number
      wages_amount:
        type: string
      wages_taxable:
        type: string
      subject_wages:
        type: number
      wages_list:
        type: array
        items:
          $ref: '#/definitions/WageListItem'
      employee_taxes_amount:
        type: number
      employee_taxes_list:
        type: array
        items:
          $ref: '#/definitions/EmployeeTaxListItem'
      employer_taxes_amount:
        type: number
      employer_taxes_list:
        type: array
        items:
          $ref: '#/definitions/EmployerTaxListItem'
      deductions_amount:
        type: number
      deductions_list:
        type: array
        items:
          $ref: '#/definitions/DeductionListItem'
      employee_deferral_amount:
        type: number
      employee_401k_loan_amount:
        type: number
      employer_retirement_contribution:
        type: number
      total_retirement_contribution:
        type: number
      benefits_amount:
        type: number
      benefits_list:
        type: array
        items:
          $ref: '#/definitions/BenefitsListItem'
      garnishments_list:
        type: array
        items:
          $ref: '#/definitions/GarnishmentsListItem'
      leave_accruals_list:
        type: array
        items:
          $ref: '#/definitions/LeaveAccrualsListItem'
      direct_deposit_amount:
        type: number
      deductions_ach_amount:
        type: number
      include_ytd:
        type: boolean
      ytd_wages_amount:
        type: number
      ytd_employee_taxes_amount:
        type: number
      ytd_employer_taxes_amount:
        type: number
      ytd_deductions_amount:
        type: number
      ytd_benefits_amount:
        type: number
      workers_compensation_code:
        type: string
      workers_compensation_hours:
        type: number
      workers_compensation_id:
        type: integer
      workers_compensation_name:
        type: string
      workers_compensation_rate:
        type: number
      workers_compensation_premium_amount:
        type: number
      workers_compensation_amount:
        type: number
      tips_amount:
        type: number
      workers_compensation_gross:
        type: number
      workers_compensation_use_multiple:
        type: boolean
      show_only_voided_checks:
        type: boolean
      is_prior_wages:
        type: boolean
      employer_contribution_amount:
        type: number

  WageListItem:
    type: object
    properties:
      name:
        type: string
      hours:
        type: number
      rate:
        type: number
      amount:
        type: number
      ytd:
        type: number
      pay_type_id:
        type: number

  EmployeeTaxListItem:
    type: object
    properties:
      name:
        type: string
      subject_wages:
        type: number
      amount:
        type: number
      ytd:
        type: number

  EmployerTaxListItem:
    type: object
    properties:
      name:
        type: string
      subject_wages:
        type: number
      amount:
        type: number
      ytd:
        type: number

  DeductionListItem:
    type: object
    properties:
      name:
        type: string
      amount:
        type: number
      ytd:
        type: number
      id:
        type: number
      ach:
        type: boolean
      include_match:
        type: boolean
      benefit_name:
        type: string
      benefit_amount:
        type: number
      nonelective_portion_of_benefit:
        type: number
      is_garnishment:
        type: boolean

  BenefitsListItem:
    type: object
    properties:
      name:
        type: string
      amount:
        type: number
      nonelective_portion_of_benefit:
        type: number
      ytd:
        type: number

  GarnishmentsListItem:
    type: object
    properties:
      name:
        type: string
      amount:
        type: number
      ytd:
        type: number

  LeaveAccrualsListItem:
    type: object
    properties:
      pay_type:
        type: integer
      used:
        type: number
      accrued:
        type: number
      available:
        type: number

  DeductionType:
    type: integer
    description: |
      1 Section 125
      2 401K
      3 403B
      4 457
      6 Roth 401K
      7 Roth 403B
      8 FSA
      9 HSA
      10 Simple IRA
      21 Post-tax
      22 Cash tips imputed
      23 Union dues
      24 Imputed
      25 Union dues based on hours
      102 Section 132
    enum:
      - 1
      - 2
      - 3
      - 4
      - 6
      - 7
      - 8
      - 9
      - 10
      - 21
      - 22
      - 23
      - 24
      - 25
      - 102

  EmployeeDeductionItem:
    type: object
    properties:
      id:
        type: integer
      type:
        $ref: '#/definitions/DeductionType'
      name:
        type: string
      annual_limit:
        type: number
      treat_as_401k_loan:
        type: boolean
      company_match_percent:
        type: number
      company_match_percent_of_gross:
        type: number
      company_match_percent_2:
        type: number
      company_match_percent_of_gross_2:
        type: number
      ignore_deferral:
        type: boolean
      nonelective_percent_of_gross:
        type: number
      grouping_id:
        type: integer
      version:
        type: string
      batch:
        $ref: '#/definitions/EmployeeDeductionItemBatch'

  EmployeeDeductionItemBatch:
    type: object
    properties:
      id:
        type: integer
      employee_id:
        type: integer
      employee_number:
        type: string
      deduction_type:
        $ref: '#/definitions/DeductionType'
      deduction_id:
        type: integer
      percent:
        type: number
      annual_limit:
        type: number
      amount:
        type: number
      override_amount:
        type: number
      active:
        type: boolean
      ach_active:
        type: boolean
      routing:
        type: integer
      account:
        type: integer
      savings:
        type: boolean
      memo:
        type: string
      include_benefit_amount_in_ach:
        type: boolean
      override_company_benefit_amount:
        type: number
      lifetime_limit:
        type: number
      version:
        type: string

  EmployeeAchAccountItem:
    type: object
    properties:
      id:
        type: integer
      employee_id:
        type: integer
      type:
        type: string
        enum:
          - dd
      ach_order:
        type: integer
      percent:
        type: string
      amount:
        type: string
      routing:
        type: string
      account:
        type: string
      savings:
        type: integer
        enum:
          - 0
          - 1

  DeductionGroupingItem:
    type: object
    properties:
      id:
        type: integer
      nonelective_cap:
        type: number
      company_match_percent_cap:
        type: number
      company_match_percent_of_gross_cap:
        type: number
      company_match_percent_2_cap:
        type: number
      company_match_percent_of_gross_2_cap:
        type: number
      version:
        type: string

  UserItem:
    type: object
    properties:
      id:
        type: integer
      first_name:
        type: string
      last_name:
        type: string
      email:
        type: string

  WorksiteItem:
    type: object
    properties:
      id:
        type: integer
      address:
        type: string
      address_2:
        type: string
      city:
        type: string
      state:
        type: string
      zip:
        type: string

  DepartmentItem:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      version:
        type: string

  LocationItem:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      version:
        type: string

  PositionItem:
    type: object
    properties:
      id:
        type: integer
      name:
        type: string
      version:
        type: string

  ApprovedPayRunsItem:
    type: object
    properties:
      runid:
        type: integer
      check_date:
        type: string
      timestamp:
        type: string
      period_start:
        type: string
      period_end:
        type: string
      user_id:
        type: integer
      tax_sweep_date:
        type: string
      tax_sweep_amount:
        type: number
      direct_deposit_sweep_date:
        type: string
      direct_deposit_sweep_amount:
        type: number
      direct_despoit_date:
        type: string
      direct_deposit_amount:
        type: number
      total_wages:
        type: number
      total_cash_requirement:
        type: number

  PayItem:
    type: object
    properties:
      id:
        type: integer
      pay_type_id:
        type: integer
      employee_id:
        type: integer
      hours:
        type: number
      rate:
        type: number
      override_amount:
        type: number

  LeaveItem:
    type: object
    properties:
      available:
        type: integer
      version:
        type: string

  TaxFields:
    type: object
    properties:
      federal_status:
        type: integer
      federal_allowances:
        type: integer
      fica_exempt:
        type: boolean
      fit_exempt:
        type: boolean
      fit_additional_amount:
        type: integer
      work_location_display_fields:
        $ref: '#/definitions/StateDisplayFieldsObject'
      state_misc_1_value:
        type: string
      state_misc_3_value:
        type: string
      state_misc_2_value:
        type: string
      sit_additional_amount:
        type: integer
      sdi_exempt:
        type: boolean
      state_misc_4_value:
        type: string
      sit_exempt:
        type: boolean
      state_resident:
        type: boolean

  StateDisplayFieldsObject:
    type: object
    properties:
      state_information:
        $ref: '#/definitions/StateInformationObject'
      display_fields:
        $ref: '#/definitions/DisplayFieldsObject'

  StateInformationObject:
    type: object
    properties:
      name:
        type: string

  DisplayFieldsObject:
    type: object

  PatchSuccessful:
    type: object
    properties:
      version:
        type: string
        description: new version

  InsertSuccessful:
    type: object
    properties:
      version:
        type: string
        description: new version
      id:
        type: integer
        description: id of inserted object

  DeleteSuccessful:
    type: object
    properties:
      deleted_id:
        type: integer
        description: id of deleted object

  ErrorBadRequest:
    type: object
    properties:
      resp:
        type: string
        description: "error"
      message:
        type: string
        description: "error message"       
